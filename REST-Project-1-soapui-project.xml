<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="16d186c0-391d-4f7c-a341-0791e655f6a7" activeEnvironment="Default" name="Rest projects for signup" soapui-version="5.7.0" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="41315b98-9f41-42e7-a744-95bec409a8c3" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ecommerceservice.herokuapp.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Signup" path="/user/signup" id="67c54ae6-3820-47a9-88de-e4178533acc4"><con:settings/><con:parameters/><con:method name="Signup 1" id="07209064-f356-45ba-95a7-2662efbfb808" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>201</con:status><con:params/><con:element xmlns:sig="https://ecommerceservice.herokuapp.com/user/signup">sig:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:sig="https://ecommerceservice.herokuapp.com/user/signup">sig:Fault</con:element></con:representation><con:request name="signup" id="1867140d-8bae-495e-8dc3-49f0ebae4e3a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request>{
	"email": "pepper@gmail.com",
	"password": "krishna@123"
}
</con:request><con:originalUri>https://ecommerceservice.herokuapp.com/user/signup</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="22f7ccd1-1bd8-4cd5-bb63-05ac5b3297de" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ecommerceservice.herokuapp.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Login" path="/user/login" id="5705c960-5bc9-4221-a67a-60a48aa1a3da"><con:settings/><con:parameters/><con:method name="Login 1" id="0eca7171-9279-4af1-8109-85e05f7648c7" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:log="https://ecommerceservice.herokuapp.com/user/login">log:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="login" id="81179876-4972-40f7-86f7-febe14e915c5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request>{
	"email": "pepper@gmail.com",
	"password": "krishna@123"
}</con:request><con:originalUri>https://ecommerceservice.herokuapp.com/user/login</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="9fc422de-a9f5-4c96-a9e7-2feb8fc4af86" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ecommerceservice.herokuapp.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint></con:endpoints><con:resource name="User" path="/user" id="4cba20de-ede1-4fec-8daf-897e5ec95766"><con:settings/><con:parameters/><con:method name="get" id="231454f4-f36e-46a7-ac59-70fa5f2d713e" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:user="https://ecommerceservice.herokuapp.com/user">user:Response</con:element></con:representation><con:request name="get all users" id="28219cf8-f1ed-4df3-928d-9d96cff966c6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjI3MTM1MTYyNTk4NDAwMTc0NWJmOWUiLCJpYXQiOjE2NDY3MjgyMjUsImV4cCI6MTY0NjgxNDYyNX0.z4ex3xsgM3S0VDkC12SQYAdX1Uqo4Ydxa14I8yogiXE" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://ecommerceservice.herokuapp.com/user</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:interface xsi:type="con:RestService" id="dc0b1f6a-d315-4d2e-9fbe-7141bca53458" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://ecommerceservice.herokuapp.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint></con:endpoints><con:resource name="Id" path="/user/${#TestSuite#id}" id="21707f02-cb8c-44ab-9fbd-99451ebd3584"><con:settings/><con:parameters/><con:method name="delete" id="41146174-1f48-4edd-aad7-a3e6dec08800" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:b3a6="https://ecommerceservice.herokuapp.com/user/62270b3a625984001745bf5a">b3a6:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="delete the user" id="7858980a-e092-47d5-903f-2c92a6482d03" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjI3MTM1MTYyNTk4NDAwMTc0NWJmOWUiLCJpYXQiOjE2NDY3MjgyMjUsImV4cCI6MTY0NjgxNDYyNX0.z4ex3xsgM3S0VDkC12SQYAdX1Uqo4Ydxa14I8yogiXE" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://ecommerceservice.herokuapp.com/user/62270b3a625984001745bf5a</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource></con:interface><con:testSuite id="0c4f61a4-e096-4043-9aca-5e3d09eae6f3" name="functional testing"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="fc42d70a-4ae9-47d2-8c50-98fab6bbff68" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="script based executions" searchProperties="true"><con:settings/><con:testStep type="properties" name="Properties" id="2f04db04-ace8-4246-ae61-306d1861e67e"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>email</con:name><con:value>rainy@gmail.com</con:value></con:property><con:property><con:name>password</con:name><con:value>kedhar6767</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="restrequest" name="signup" id="abc49766-10f3-4c9c-a56e-1efddf27d5b3"><con:settings/><con:config service="https://ecommerceservice.herokuapp.com" resourcePath="/user/signup" methodName="Signup 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="signup" id="1867140d-8bae-495e-8dc3-49f0ebae4e3a" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request>{
	"email": "${Properties#email}",
	"password": "${Properties#password}"
}
</con:request><con:originalUri>https://ecommerceservice.herokuapp.com/user/signup</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a62a9622-c61c-4b76-aad5-578a80534928" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>201</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="login" id="254420c1-bc5c-411e-bd65-8702f542e564"><con:settings/><con:config service="https://ecommerceservice.herokuapp.com" resourcePath="/user/login" methodName="Login 1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="login" id="81179876-4972-40f7-86f7-febe14e915c5" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request>{
	"email": "${Properties#email}",
	"password": "${Properties#password}"
}
</con:request><con:originalUri>https://ecommerceservice.herokuapp.com/user/login</con:originalUri><con:assertion type="GroovyScriptAssertion" id="ed9509f1-6c7d-4440-b5dd-e0f36cfafabf" name="Script Assertion"><con:configuration><scriptText>import groovy.json.JsonSlurper
def response = context.testCase.getTestStepByName("login").getPropertyValue("Response")
def holder = new JsonSlurper().parseText(response)
def token = holder.accessToken
context.testCase.testSuite.setPropertyValue("Token","bearer "+token)















</scriptText></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="e62527e5-bec2-4e05-8b74-d45ea050df58" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="get all users" id="5f28f126-74a6-424a-8fca-3dbb1c080649"><con:settings/><con:config service="https://ecommerceservice.herokuapp.com" resourcePath="/user" methodName="get" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="get all users" id="28219cf8-f1ed-4df3-928d-9d96cff966c6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#Token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://ecommerceservice.herokuapp.com/user</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="12f60214-40e9-4c36-ac81-72d2a6ffa11f" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="JsonPath Count" id="795ce07c-cbf5-439c-9424-c7db410d0490" name="JsonPath Count" disabled="true"><con:configuration><path>users</path><content>300</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Existence Match" id="3e79251d-9e09-4447-8e7c-83ad19366b5f" name="JsonPath Existence Match"><con:configuration><path>users</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="3fc78025-cb3d-4a45-ab10-2c655ee9b329" name="JsonPath Match" disabled="true"><con:configuration><path>users[?(@.email=='ankur45901121@gmail.com')]._id</path><content>[6215fb3dd72df90017b403bc]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="ca763ef6-8d91-46c7-a01c-b0a16b105abf" name="Script Assertion" disabled="true"><con:configuration><scriptText>import groovy.json.JsonSlurper
def response = context.testCase.getTestStepByName("get all users").getPropertyValue("response")
def holder = new JsonSlurper().parseText(response)
def count = holder.count.toInteger()
for(def i=0;i&lt;count;i++)
{
	if(holder.users[i].email=="palakmdg@gmail.com")
	{
		def id = holder.users[i]._id
		log.info id
		def id1 = id.toString()
		context.testCase.testSuite.setPropertyValue("id",id1)
	}
}</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" id="864abde3-1d93-4137-8e14-c8568d7641e1" name=" script 2"><con:configuration><scriptText>// We need to input the library to read json files
import groovy.json.JsonSlurper
//we need to store the response
def response = context.testCase.getTestStepByName("get all users").getPropertyValue("Response")
//Stripping the response into a json script
def holder = new JsonSlurper().parseText(response)
// getting only the count
// def count = holder.count
def id = holder.users[200]._id
context.testCase.testSuite.setPropertyValue("id", id)

	</scriptText></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="delete the user" id="142c2177-9c6b-4400-95d4-f9aee17d6e85"><con:settings/><con:config service="https://ecommerceservice.herokuapp.com" resourcePath="/user/${#TestSuite#id}" methodName="delete" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="delete the user" id="7858980a-e092-47d5-903f-2c92a6482d03" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#token}" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://ecommerceservice.herokuapp.com</con:endpoint><con:request/><con:originalUri>https://ecommerceservice.herokuapp.com/user/62270b3a625984001745bf5a</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="06c1ce5d-83b9-4ac8-8e6f-99654ce665d8" name="Valid HTTP Status Codes" disabled="true"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>Token</con:name><con:value>bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MjJlMmFhOGI0Y2I4YzAwMTcxNmQyNWQiLCJpYXQiOjE2NDcxOTMzNTMsImV4cCI6MTY0NzI3OTc1M30.FEC6-oStVQZ1UtRnYPhOfP3z9oTs01fw3b5zX4bN27E</con:value></con:property><con:property><con:name>id</con:name><con:value>622cd05727a7d400179235d5</con:value></con:property></con:properties></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>